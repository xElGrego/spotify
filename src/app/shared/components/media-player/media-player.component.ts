import { Component, OnDestroy, OnInit } from "@angular/core";
import { TrackModel } from "@core/models/tracks.model";
import { MultimediaService } from "../../servicess/multimedia.service";

import { Subscription } from "rxjs"; /* Programaci贸n reactiva */

@Component({
  selector: "app-media-player",
  templateUrl: "./media-player.component.html",
  styleUrls: ["./media-player.component.css"],
})
export class MediaPlayerComponent implements OnInit, OnDestroy {
  listObserver: Array<Subscription> = [];

  mockCover: TrackModel = {
    cover:
      "data:image/jpeg;base64,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",
    name: "Gualaceo",
    album: "Album",
    url: "localhost/",
    _id: 1,
  };

  constructor(private multimediaServices: MultimediaService) {}

  ngOnInit(): void {
    /* Se recibe la canci贸n */
    const observer1$: Subscription = this.multimediaServices.callback.subscribe(
      (e: TrackModel) => {
        console.log("Recibiendo canci贸n", e);
      }
    );
    this.listObserver = [observer1$];
  }

  /* Para quitar el oyente */
  ngOnDestroy(): void {
    this.listObserver.forEach((e) => {
      e.unsubscribe;
      console.log("Se muri贸", e);
    });
  }
}
